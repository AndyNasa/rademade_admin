<% content_for :page_header do %>
    <h3><%= @model_info.item_name %></h3>
<% end %>

<% content_for :nav_buttons do %><%
    new_uri = admin_new_uri(@model_info)
    if new_uri
        concat link_to t('rademade_admin.new_record') + '+', new_uri, :class => 'btn yellow-btn fl-l'
    end
end %>

<% content_for :content do %><%
    concat render @template_service.on_page_select_block
    concat render @template_service.sort_reset_block
    %><table class="table-box"><%
        concat render @template_service.table_head_block, {
            :list_fields => @list_fields
        }
        has_position = @sortable_service.has_position?
        %><tbody class="table-content" data-sortable="<%= has_position %>"><%
            @items.each do |item|
                %><tr id="item_<%= item.id %>" class="table-line" data-id="<%= item.id %>"<%
                    if has_position
                        %> data-position="<%= item.position %>"<%
                    end
                %>><%
                    @list_fields.each do |field|
                        %><td class="table-item"><%= display_item_value(item, field) %></td><%
                    end
                    %><td class="table-item">
                        <span class="table-actions"><%
                            concat render 'rademade_admin/_blocks/button/edit', {
                                :item => item
                            }
                            concat render 'rademade_admin/_blocks/button/hide', {
                                :item => item
                            }
                            delete_uri = admin_delete_uri(item)
                            if delete_uri
                                %><div class="glyphicon glyphicon-remove fl-l"><%
                                    concat button_to t('rademade_admin.destroy'), delete_uri, {
                                        :method => :delete,
                                        :form => { :class => 'delete-item-form' }
                                    }
                                %></div><%
                            end
                        %></span>
                    </td>
                </tr><%
            end
        %></tbody>
    </table><%
    concat render @template_service.pagination_block
end
concat render :template => @template_service.inner_layout %>